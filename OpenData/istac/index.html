<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AIRC • ISTAC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
  <header class="site-header">
    <div class="logo-title">
      <img src="/assets/img/AIRC_LOGO.png" alt="AIRC logo" class="logo">
      <div>
        <h1>ISTAC</h1>
        <p class="tagline">Versioned STAC catalogs · GeoParquet mirrors</p>
      </div>
    </div>
    <nav class="nav">
      <a href="/">Home</a>
      <a href="/OpenData/">Open Data</a>
      <a href="./catalog.json">catalog.json</a>
      <a href="./v/">Versions</a>
      <a href="./browser/">Browser</a>
    </nav>
  </header>

  <main>
    <section class="section">
      <h3 class="section-title">ISTAC entrypoints</h3>
      <p class="section-intro">
        Use the root catalog to browse collections, or query GeoParquet directly with DuckDB.
      </p>

      <div class="card-grid">
        <article class="card">
          <h4>Browse</h4>
          <ul>
            <li><a class="text-link" href="./catalog.json">Open catalog.json</a></li>
            <li><a class="text-link" href="./v/">Browse immutable snapshots</a></li>
          </ul>
        </article>

        <article class="card">
          <h4>Browser UI</h4>
          <p>Visual browsing will work after we deploy the browser build.</p>
          <a class="text-link" href="./browser/">Open ISTAC Browser (coming soon)</a>
        </article>

        <article class="card">
          <h4>DuckDB query example</h4>
          <pre><code>import duckdb

con = duckdb.connect()
con.execute("INSTALL spatial;")
con.execute("LOAD spatial;")

url = "https://airesearchcorps.org/OpenData/istac/v/2026-02-27_1200/collections/sentinel-2-l2a/geoparquet/items.parquet"

df = con.execute("""
  SELECT id, datetime
  FROM read_parquet(url)
  WHERE datetime &gt;= TIMESTAMP '2026-02-13'
    AND datetime &lt;  TIMESTAMP '2026-02-27'
    AND ST_Intersects(
      geometry,
      ST_MakeEnvelope(-117.30, 32.60, -117.00, 32.95)
    )
  LIMIT 50
""").df()

print(df.head())</code></pre>
        </article>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>© <span id="year"></span> AI Research Corps (AIRC)</p>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>