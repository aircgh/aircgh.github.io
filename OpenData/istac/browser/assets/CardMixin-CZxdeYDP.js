import{i as r,h as d}from"./utils-DJTICtwe.js";import{S as o,f as h}from"./formatters-Cg3Rg20C.js";import{bs as l,bI as u,bp as n}from"./index-EEKoSAfw.js";const f={mixins:[o({formatMediaType:h.formatMediaType})],computed:{fileFormats(){if(!this.data)return[];let a=[];return(this.data.isItem()||this.data.isCollection())&&r(this.data.assets)&&(a=a.concat(Object.values(this.data.assets))),this.data.isCollection()&&r(this.data.item_assets)&&(a=a.concat(Object.values(this.data.item_assets))),a.filter(t=>Array.isArray(t.roles)&&t.roles.includes("data")&&typeof t.type=="string").map(t=>this.formatMediaType(t.type,null,{shorten:!0})).filter((t,i,e)=>e.indexOf(t)===i).sort((t,i)=>t.localeCompare(i,void 0,{sensitivity:"base"}))}}},b={props:{showThumbnail:{type:Boolean,default:!0}},computed:{...l(["cardViewMode","crossOriginMedia","defaultThumbnailSize"]),isList(){return this.data&&!this.data.isItem()&&this.cardViewMode==="list"},hasImage(){return this.showThumbnail&&this.thumbnail},thumbnail(){if(this.data){let a=this.data.getThumbnails(!0,"thumbnail");if(a.length>0){let t=a[0],i,e;const s=t.getMetadata("proj:shape");return Array.isArray(s)&&s.length===2?[e,i]=s:Array.isArray(this.defaultThumbnailSize)&&this.defaultThumbnailSize.length===2&&([e,i]=this.defaultThumbnailSize),{src:t.getAbsoluteUrl(),alt:t.title,crossorigin:this.crossOriginMedia,width:i,height:e,placement:this.isList?"end":"top"}}}return null},keywords(){return this.data?this.data.getMetadata("keywords")||[]:[]},isDeprecated(){return this.data instanceof n&&!!this.data.getMetadata("deprecated")},hasDescription(){return this.data instanceof n&&d(this.data.getMetadata("description"))},summarizeDescription(){return this.hasDescription?u.summarizeMd(this.data.getMetadata("description"),300):""}}};export{b as C,f as F};
//# sourceMappingURL=CardMixin-CZxdeYDP.js.map
