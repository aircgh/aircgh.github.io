const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Keywords-DjO9i2K6.js","assets/BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-CngqnOtr.js","assets/index-C1OYoqWz.js","assets/utils-DJTICtwe.js","assets/_commonjsHelpers-CE1G-McA.js","assets/I18N-DlIXJTel.js","assets/index-BchvTk2E.css","assets/ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--bf0uGAvK.js","assets/Keywords-LHIkcT_2.css","assets/SearchFilter-C1wdVruG.js","assets/BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-Bb6bSj6Z.js","assets/BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d--Rb1PgS9.js","assets/useStateClass-BGbSLWFN-DW88tcHJ.js","assets/debounce-BHqBzJ1a-CHZZ73bA.js","assets/BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-B5CKDn4J.js","assets/BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-D52XhUmS.js","assets/BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-DvtMcFs0.js","assets/BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-Fqdhapa9.js","assets/BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-Ajgo5TND.js","assets/startOfWeek-m7vVpAR3.js","assets/en-US-DRXoBfJp.js","assets/match-DN4VZKeM.js","assets/buildMatchPatternFn-_eSDZv-o.js","assets/Loading-FzMMkwuw.js","assets/Loading-BLYcl2tz.css","assets/helper-CaHhXSPV.js","assets/helper-DO3U350M.js","assets/SearchFilter-TGT-1m2t.css","assets/Pagination-D3hk8luR.js","assets/SortButtons-CEaNkJB8.js"])))=>i.map(i=>d[i]);
import{a4 as R,n as i,B as m,y as h,bk as L,bl as r,by as V,x as T,p as a,q as o,v as H,K as n,G as s,L as d,H as l,I as p,ax as D,A as E,d as M,cJ as U,bp as G,br as J,bs as A,bt as _,bu as w,at as Q,_ as W,b7 as X,bI as B,bw as O}from"./index-C1OYoqWz.js";import{_ as z}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-CngqnOtr.js";import{_ as Y}from"./BCollapse.vue_vue_type_script_setup_true_lang-BUisG8-R-SXzUKtxY.js";import{s as Z}from"./utils-DJTICtwe.js";import{F as x,C as ee}from"./CardMixin-9swORhRE.js";import{f as P}from"./formatters-DHrlMhMY.js";import{c as te,g as ie,a as se,b as ae}from"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-Fqdhapa9.js";import{_ as ne}from"./BCardText.vue_vue_type_script_setup_true_lang-SRGbviaO-DlV4JFi7.js";import{L as re}from"./Loading-FzMMkwuw.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--bf0uGAvK.js";import"./helper-DO3U350M.js";import"./datatypes-XrFOh23H.js";const oe={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function le(e,t){return i(),m("svg",oe,[...t[0]||(t[0]=[h("path",{fill:"currentColor",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},null,-1)])])}const me=R({name:"bi-filter",render:le}),de=M({name:"Item",components:{StacLink:U,BCard:ae,BCardImg:se,BCardBody:ie,BCardText:ne,BCardTitle:te,Keywords:_(()=>w(()=>import("./Keywords-DjO9i2K6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])))},mixins:[x,ee],props:{item:{type:Object,required:!0}},computed:{...A(["showKeywordsInItemCards"]),...J(["getStac"]),data(){return this.getStac(this.item)},classes(){return{queued:!this.data,deprecated:this.isDeprecated,description:this.hasDescription}},extent(){return this.data&&(this.data.properties.start_datetime||this.data.properties.end_datetime)?[this.data.properties.start_datetime,this.data.properties.end_datetime]:null},displayTime(){return this.extent?P.formatTemporalExtent(this.extent):this.data&&this.data.properties.datetime?P.formatTimestamp(this.data.properties.datetime):this.$t("items.noTime")}},methods:{load(e){this.item instanceof G||this.$store.commit(e?"queue":"unqueue",this.item.getAbsoluteUrl())}}}),ue={class:"card-img-wrapper"},pe=["innerHTML"];function he(e,t,k,v,q,j){const g=r("b-card-img"),$=r("StacLink"),c=r("b-card-title"),y=z,f=r("b-card-text"),F=r("Keywords"),I=r("b-card-body"),C=r("b-card"),S=V("visible");return T((i(),a(C,{"no-body":"",class:E(["item-card",e.classes])},{default:o(()=>[h("div",ue,[e.hasImage?(i(),a(g,H({key:0,class:"thumbnail"},e.thumbnail,{lazy:""}),null,16)):n("",!0)]),t[5]||(t[5]=s()),d(I,null,{default:o(()=>[d(c,null,{default:o(()=>[d($,{data:[e.data,e.item],class:"stretched-link"},null,8,["data"])]),_:1}),t[2]||(t[2]=s()),e.fileFormats.length>0||e.hasDescription||e.isDeprecated?(i(),a(f,{key:0,class:"intro"},{default:o(()=>[e.isDeprecated?(i(),a(y,{key:0,variant:"warning",class:"me-1 mt-1 deprecated"},{default:o(()=>[s(l(e.$t("deprecated")),1)]),_:1})):n("",!0),t[0]||(t[0]=s()),(i(!0),m(p,null,D(e.fileFormats,b=>(i(),a(y,{key:b,variant:"secondary",class:"me-1 mt-1 fileformat"},{default:o(()=>[s(l(b),1)]),_:2},1024))),128)),t[1]||(t[1]=s()),e.hasDescription?(i(),m(p,{key:1},[s(l(e.summarizeDescription),1)],64)):n("",!0)]),_:1})):n("",!0),t[3]||(t[3]=s()),e.showKeywordsInItemCards&&e.keywords.length>0?(i(),a(F,{key:1,keywords:e.keywords,variant:"primary"},null,8,["keywords"])):n("",!0),t[4]||(t[4]=s()),d(f,null,{default:o(()=>[h("small",{class:"datetime",innerHTML:e.displayTime},null,8,pe)]),_:1})]),_:1})]),_:1},8,["class"])),[[S,e.load,void 0,{400:!0}]])}const fe=L(de,[["render",he]]),ge=M({name:"Items",components:{Item:fe,SearchFilter:_(()=>w(()=>import("./SearchFilter-C1wdVruG.js").then(e=>e.b),__vite__mapDeps([9,2,3,4,5,6,10,11,12,13,1,7,14,15,16,17,18,19,20,21,22,23,24,25,26,27]))),Loading:re,Pagination:_(()=>w(()=>import("./Pagination-D3hk8luR.js"),__vite__mapDeps([28,2,3,4,5,6]))),BCollapse:Y,SortButtons:_(()=>w(()=>import("./SortButtons-CEaNkJB8.js"),__vite__mapDeps([29,2,3,4,5,6])))},props:{items:{type:Array,required:!0},loading:{type:Boolean,default:!1},stac:{type:Object,required:!0},api:{type:Boolean,default:!1},allowFilter:{type:Boolean,default:!0},showFilters:{type:Boolean,default:!1},apiFilters:{type:Object,default:()=>({})},pagination:{type:Object,default:()=>({})},chunkSize:{type:Number,default:90},count:{type:Number,default:null}},emits:["filtersShown","filterItems","paginate"],data(){return{shownItems:this.chunkSize,filtersOpen:this.showFilters,sort:0}},computed:{...A(["cardViewSort","uiLanguage"]),itemCount(){return this.count!==null?this.count:!this.api&&this.items.length>0?this.items.length:null},hasMore(){return this.items.length>this.shownItems},filterCount(){return Object.values(this.apiFilters).filter(e=>!(e===null||Z(e)===0)).length},hasFilters(){return this.filterCount>0},chunkedItems(){let e=this.items;if(!this.apiFilters.sortby&&this.sort!==0){const t=new Intl.Collator(this.uiLanguage);e=e.slice(0).sort((k,v)=>t.compare(O(k),O(v))),this.sort===-1&&(e=e.reverse())}return!this.api&&this.items.length>this.chunkSize?e.slice(0,this.shownItems):e},showPagination(){if(this.api){if(this.hasFilters)return!0;if(this.items.length>0)return Object.values(this.pagination).some(e=>!!e)}return!1}},watch:{showFilters(){this.filter=this.showFilters},filtersOpen(){this.$emit("filtersShown",this.filtersOpen)}},created(){this.sort=B.convertHumanizedSortOrder(this.cardViewSort)},mounted(){this.showFilters&&setTimeout(()=>B.scrollTo(this.$el),250)},methods:{emitFilter(e,t){this.$emit("filterItems",e,t)},showMore(){this.shownItems+=this.chunkSize},paginate(e,t){t==="bottom"&&this.$refs.topPagination&&B.scrollTo(this.$refs.topPagination.$el),this.$emit("paginate",e)}}}),ce={class:"items mb-4"},ye={class:"title me-2"},be={class:"list"},_e={key:1,class:"card-grid"};function we(e,t,k,v,q,j){const g=z,$=r("SortButtons"),c=r("Pagination"),y=me,f=W,F=r("SearchFilter"),I=r("b-collapse"),C=r("Loading"),S=r("Item"),b=X,K=Q,N=V("visible");return i(),m("section",ce,[h("header",null,[h("h2",ye,l(e.$t("stacItem",e.items.length)),1),t[2]||(t[2]=s()),e.itemCount!==null?(i(),a(g,{key:0,pill:"",variant:"secondary",class:"me-4"},{default:o(()=>[s(l(e.itemCount),1)]),_:1})):n("",!0),t[3]||(t[3]=s()),!e.api&&e.items.length>1?(i(),a($,{key:1,modelValue:e.sort,"onUpdate:modelValue":t[0]||(t[0]=u=>e.sort=u)},null,8,["modelValue"])):n("",!0)]),t[6]||(t[6]=s()),e.showPagination?(i(),a(c,{key:0,ref:"topPagination",class:E(["mb-3",{"me-3":e.allowFilter}]),pagination:e.pagination,placement:"top",onPaginate:e.paginate},null,8,["class","pagination","onPaginate"])):n("",!0),t[7]||(t[7]=s()),e.allowFilter?(i(),m(p,{key:1},[e.api?T((i(),a(f,{key:0,class:"mb-3",variant:e.hasFilters&&!e.filtersOpen?"primary":"outline-primary"},{default:o(()=>[d(y),s(" "+l(e.filtersOpen?e.$t("items.hideFilter"):e.$t("items.showFilter"))+" ",1),e.hasFilters&&!e.filtersOpen?(i(),a(g,{key:0,variant:"dark"},{default:o(()=>[s(l(e.filterCount),1)]),_:1})):n("",!0)]),_:1},8,["variant"])),[[K,void 0,void 0,{itemFilter:!0}]]):n("",!0),t[4]||(t[4]=s()),d(I,{id:"itemFilter",modelValue:e.filtersOpen,"onUpdate:modelValue":t[1]||(t[1]=u=>e.filtersOpen=u)},{default:o(()=>[d(F,{type:"Items",title:e.$t("items.filter"),parent:e.stac,value:e.apiFilters,onInput:e.emitFilter},null,8,["title","parent","value","onInput"])]),_:1},8,["modelValue"])],64)):n("",!0),t[8]||(t[8]=s()),h("section",be,[e.loading?(i(),a(C,{key:0,fill:"",top:""})):n("",!0),t[5]||(t[5]=s()),e.chunkedItems.length>0?(i(),m("div",_e,[(i(!0),m(p,null,D(e.chunkedItems,u=>(i(),a(S,{item:u,key:u.href},null,8,["item"]))),128))])):(i(),a(b,{key:2,variant:e.hasFilters?"warning":"info",show:""},{default:o(()=>[e.hasFilters?(i(),m(p,{key:0},[s(l(e.$t("search.noItemsFound")),1)],64)):(i(),m(p,{key:1},[s(l(e.$t("items.noneAvailableForCollection")),1)],64))]),_:1},8,["variant"]))]),t[9]||(t[9]=s()),e.showPagination?(i(),a(c,{key:2,class:"mb-3",pagination:e.pagination,onPaginate:e.paginate},null,8,["pagination","onPaginate"])):e.hasMore?T((i(),a(f,{key:3,onClick:e.showMore,variant:"primary"},{default:o(()=>[s(l(e.$t("showMore")),1)]),_:1},8,["onClick"])),[[N,e.showMore,void 0,{300:!0}]]):n("",!0)])}const Ee=L(ge,[["render",we]]);export{Ee as default};
//# sourceMappingURL=Items-BLdQ-y9R.js.map
