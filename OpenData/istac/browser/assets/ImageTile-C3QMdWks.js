import{e as f,p,r as g}from"./uri-DoJhILYp.js";import y from"./DataTile-DL5bbeYw.js";import"./GeoJSON-BjuvHxuB.js";import"./index-C1OYoqWz.js";import"./utils-DJTICtwe.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-B5CKDn4J.js";import"./useStateClass-BGbSLWFN-DW88tcHJ.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--bf0uGAvK.js";import"./tilecoord-DH-KVnzw.js";import"./DataTile-p8pT5WAE.js";import"./Tile-Cl2MG9Yq.js";import"./common-Lu6Sy4Pz.js";import"./mat4-CeypvY8Z.js";import"./Tile-BJ3rCrpt.js";import"./TileGrid-DOF7G5nr.js";import"./TileRange-2Tc-Ry00.js";import"./TileEventType-CTN_nmJ7.js";const k=new Error("Image failed to load");function c(e,r,t,i,a){return new Promise((o,d)=>{const n=new Image;n.crossOrigin=a.crossOrigin??null,n.addEventListener("load",()=>o(n)),n.addEventListener("error",()=>d(k)),n.src=g(e,r,t,i,a.maxY)})}function m(e){return function(r,t,i,a){const o=p(e,r,t,i);return c(o,r,t,i,a)}}function w(e){return function(r,t,i,a){const o=e(r,t,i,a);return c(o,r,t,i,a)}}function l(e){let r;if(Array.isArray(e))r=m(e);else if(typeof e=="string"){const t=f(e);r=m(t)}else if(typeof e=="function")r=w(e);else throw new Error("The url option must be a single template, an array of templates, or a function for getting a URL");return r}let s=0;function u(e){return Array.isArray(e)?e.join(`
`):typeof e=="string"?e:(++s,"url-function-key-"+s)}class v extends y{constructor(r){r=r||{};let t=r.loader,i;r.url&&(t=l(r.url),i=u(r.url));const a=t?r.state:"loading",o=r.wrapX===void 0?!0:r.wrapX;super({loader:t,key:i,attributions:r.attributions,attributionsCollapsible:r.attributionsCollapsible,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize,gutter:r.gutter,maxResolution:r.maxResolution,projection:r.projection,tileGrid:r.tileGrid,state:a,wrapX:o,transition:r.transition,interpolate:r.interpolate!==!1,crossOrigin:r.crossOrigin,zDirection:r.zDirection})}setUrl(r){const t=l(r);this.setLoader(t),this.setKey(u(r)),this.getState()!=="ready"&&this.setState("ready")}}export{v as default};
//# sourceMappingURL=ImageTile-C3QMdWks.js.map
