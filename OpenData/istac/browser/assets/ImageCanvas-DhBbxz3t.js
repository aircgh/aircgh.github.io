import{I as o}from"./ImageCanvas-e8uMjNzF.js";import{a1 as h,bX as v,aB as g,aC as d}from"./GeoJSON-BjuvHxuB.js";import u from"./Image-DE2iL0r2.js";import"./index-C1OYoqWz.js";import"./utils-DJTICtwe.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-B5CKDn4J.js";import"./useStateClass-BGbSLWFN-DW88tcHJ.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--bf0uGAvK.js";import"./common-Lu6Sy4Pz.js";import"./resolution-CU8ppKQ3.js";import"./common-9rOs42pz.js";class B extends u{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=t.ratio!==void 0?t.ratio:1.5}getImageInternal(t,i,s,r){i=this.findNearestResolution(i);let a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==i&&a.getPixelRatio()==s&&h(a.getExtent(),t))return a;t=t.slice(),v(t,this.ratio_);const n=g(t)/i,c=d(t)/i,m=[n*s,c*s],e=this.canvasFunction_.call(this,t,i,s,m,r);return e&&(a=new o(t,i,s,e)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a}}export{B as default};
//# sourceMappingURL=ImageCanvas-DhBbxz3t.js.map
