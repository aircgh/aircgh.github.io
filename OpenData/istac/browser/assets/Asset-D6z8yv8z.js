const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AssetAlternative-CrnWeFkz.js","assets/index-C1OYoqWz.js","assets/utils-DJTICtwe.js","assets/_commonjsHelpers-CE1G-McA.js","assets/I18N-DlIXJTel.js","assets/index-BchvTk2E.css","assets/formatters-DHrlMhMY.js","assets/helper-DO3U350M.js","assets/datatypes-XrFOh23H.js","assets/Description-BeJxhtwF.js","assets/Description-BJNSZaWm.css","assets/HrefActions-DrXPHcxE.js","assets/BListGroupItem.vue_vue_type_script_setup_true_lang-J0Ydbiva-Chbp_Z2O.js","assets/HrefActions-DeDG8trG.css","assets/AssetAlternative-C-P2iyDi.css"])))=>i.map(i=>d[i]);
import{bk as F,bl as m,n,p as r,q as o,G as i,L as u,B as v,I as g,ax as A,y as h,H as c,K as p,cX as V,bs as L,bt as M,bu as O}from"./index-C1OYoqWz.js";import{_ as N}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-CngqnOtr.js";import{_ as R}from"./check-CfbwE_qj.js";import{_ as E,a as P}from"./chevron-down-s2Awu0st.js";import{S as j,f as H}from"./formatters-DHrlMhMY.js";import{s as I,i as K}from"./utils-DJTICtwe.js";import{_ as q}from"./BAccordion.vue_vue_type_script_setup_true_lang-Ccx3zW5a-DxHgrhtW.js";import{b as z}from"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-Fqdhapa9.js";import{_ as D,a as J}from"./BTabs.vue_vue_type_script_setup_true_lang-CU4B0ph2-Bti89sme.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--bf0uGAvK.js";import"./helper-DO3U350M.js";import"./datatypes-XrFOh23H.js";import"./BCollapse.vue_vue_type_script_setup_true_lang-BUisG8-R-SXzUKtxY.js";const Q={name:"Asset",components:{AssetAlternative:M(()=>O(()=>import("./AssetAlternative-CrnWeFkz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),BCard:z,BTab:J,BTabs:D,BAccordionItem:q},mixins:[j({formatMediaType:H.formatMediaType})],props:{asset:{type:Object,required:!0},definition:{type:Boolean,default:!1},expand:{type:Boolean,default:null},shown:{type:Boolean,default:!1}},emits:["show"],data(){return{expanded:!1}},computed:{...L(["stateQueryParameters"]),type(){return this.definition?"itemdef":"asset"},uid(){return`${this.type}-${this.asset.getKey().toLowerCase().replace(/[^\w]/g,"-")}`},title(){return this.asset.title||this.asset.getKey()},fileFormat(){return typeof this.asset.type=="string"&&this.asset.type.length>0?this.formatMediaType(this.asset.type):null},shortFileFormat(){return typeof this.asset.type=="string"&&this.asset.type.length>0?this.formatMediaType(this.asset.type,null,{shorten:!0}):null},alternatives(){if(!K(this.asset.alternate))return{};const t=this.asset.toJSON();delete t.alternate;const e={};for(const s in this.asset.alternate){const f=this.asset.alternate[s],d=Object.assign({},t,f.toJSON());e[s]=new V(d,s,f.getContext())}return e},hasAlternatives(){return I(this.alternatives)>0},sortedRoles(){return Array.isArray(this.asset.roles)?[...this.asset.roles].sort((t,e)=>t==="data"?-1:e==="data"?1:t.toLowerCase().localeCompare(e.toLowerCase(),void 0,{sensitivity:"base"})):[]}},created(){if(this.stateQueryParameters[this.type].indexOf(this.uid)>-1){this.expanded=!0;return}typeof this.expand=="boolean"?this.expanded=this.expand:this.expanded=!1},methods:{displayRole(t){let e=`assets.role.${t}`;return this.$te(e)?this.$t(e):t},collapseToggled(t){let e=t?"openCollapsible":"closeCollapsible";this.$store.commit(e,{type:this.type,uid:this.uid})},show(){this.$emit("show",...arguments)}}},U={class:"chevron","aria-hidden":"true"},G={class:"title"},X={class:"badges ms-1"},W=["innerHTML"];function Y(t,e,s,f,d,a){const k=E,x=P,S=R,_=N,y=m("AssetAlternative"),b=m("b-tab"),B=m("b-tabs"),C=m("b-card"),T=m("b-accordion-item");return n(),r(T,{id:a.uid,modelValue:d.expanded,"onUpdate:modelValue":[e[0]||(e[0]=l=>d.expanded=l),a.collapseToggled],class:"asset","body-class":"asset-body"},{title:o(()=>[h("span",U,[d.expanded?(n(),r(k,{key:0})):(n(),r(x,{key:1}))]),e[4]||(e[4]=i()),h("span",G,c(a.title),1),e[5]||(e[5]=i()),h("div",X,[s.shown?(n(),r(_,{key:0,variant:"success",class:"shown",title:t.$t("assets.currentlyShown")},{default:o(()=>[u(S),i(" "+c(t.$t("assets.shown")),1)]),_:1},8,["title"])):p("",!0),e[1]||(e[1]=i()),s.asset.deprecated?(n(),r(_,{key:1,variant:"warning",class:"deprecated"},{default:o(()=>[i(c(t.$t("deprecated")),1)]),_:1})):p("",!0),e[2]||(e[2]=i()),Array.isArray(s.asset.roles)?(n(!0),v(g,{key:2},A(a.sortedRoles,l=>(n(),r(_,{key:l,variant:l==="data"?"primary":"secondary",class:"role"},{default:o(()=>[i(c(a.displayRole(l)),1)]),_:2},1032,["variant"]))),128)):p("",!0),e[3]||(e[3]=i()),a.shortFileFormat?(n(),r(_,{key:3,variant:"dark",class:"format",title:a.fileFormat},{default:o(()=>[h("span",{innerHTML:a.shortFileFormat},null,8,W)]),_:1},8,["title"])):p("",!0)])]),default:o(()=>[e[7]||(e[7]=i()),a.hasAlternatives?(n(),r(C,{key:0,"no-body":"",class:"border-0 rounded-0"},{default:o(()=>[u(B,{lazy:"",card:""},{default:o(()=>[u(b,{title:s.asset["alternate:name"]||t.$t("assets.alternate.main"),active:"","no-body":""},{default:o(()=>[u(y,{asset:s.asset,shown:s.shown,hasAlternatives:"",onShow:a.show},null,8,["asset","shown","onShow"])]),_:1},8,["title"]),e[6]||(e[6]=i()),(n(!0),v(g,null,A(a.alternatives,(l,w)=>(n(),r(b,{title:l["alternate:name"]||w,key:w,"no-body":""},{default:o(()=>[u(y,{asset:l,shown:s.shown,hasAlternatives:"",onShow:a.show},null,8,["asset","shown","onShow"])]),_:2},1032,["title"]))),128))]),_:1})]),_:1})):(n(),r(y,{key:1,asset:s.asset,shown:s.shown,onShow:a.show},null,8,["asset","shown","onShow"]))]),_:1},8,["id","modelValue","onUpdate:modelValue"])}const he=F(Q,[["render",Y]]);export{he as default};
//# sourceMappingURL=Asset-D6z8yv8z.js.map
